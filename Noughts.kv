#: import RiseInTransition kivy.uix.screenmanager.RiseInTransition

<GameLabel@MDFloatLayout>
    size_hint: 0.33,0.3
    halign: "center"
    canvas.before:
        Color:
            rgba: (2/255,55/255,66/255,1)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [20]




<MainLayout>

    manager:screen_manager

    local_color: [14/255, 84/255, 0/255, 1]
    MDFloatLayout:
        size: root.width, root.height
        id: main

        MDToolbar:
            id: tool
            title: "Hang Man"
            pos_hint: {"top":1}
            md_bg_color: root.local_color
            elevation: 30
            specific_text_color: (255/255,255/255,255/255, 1)
            #right_action_items: [["menu", lambda x: root.Dialog(), "Menu"]]


        MDNavigationLayout:
            ScreenManager:
                id: screen_manager
                transition: RiseInTransition()
                duration: 1


                MDScreen:
                    name: "intro"

                    Button:
                        id: go

                        size_hint: (0.6,0.6)
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        background_normal: 'start.png'
                        background_down: 'press.png'
                        on_release:

                            root.manager.current = "login"



                MDScreen:
                    name: "register"

                    MDRelativeLayout:


                        id: background_Register
                        img_regis: "register_back.jpg"
                        canvas.before:
                            Color:
                                #rgba: (255/255,255/255,255/255, 1)
                                rgba: (70/255,70/255,70/255, 0.9)
                            Rectangle:
                                size: root.width, (root.height - tool.height)
                                pos: self.pos
                                source: background_Register.img_regis




                        MDFloatLayout:
                            rounded: 15
                            pos_hint: {'center_x':0.5, 'center_y':0.45}
                            size_hint: None,None
                            size: 400,500
                            id: line

                            canvas.before:
                                Color:
                                    rgb: (0/255,38/255,1/255, 1)

                                Line:
                                    rounded_rectangle: (self.pos[0],self.pos[1], self.size[0], self.size[1], self.rounded)
                                    width: 5


                            MDFloatLayout:
                                md_bg_color: (3/255,252/255,11/255, 0.5)
                                radius: [15]
                                size_hint: None, None
                                size: line.width-7,line.height-7
                                pos_hint: {'center_x':0.5, 'center_y':0.5}






                                MDLabel:
                                    text: "Sign up"
                                    size_hint: 0.5,0.2
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y": 0.95}
                                    font_size: 40
                                    color: 0,0,0,1

                                MDTextField:
                                    hint_text: "Name"
                                    id: CNP
                                    pos_hint: {"center_x":0.5, "center_y": 0.75}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 0, 0, 1
                                    size_hint: 0.8,0.12
                                MDTextField:
                                    hint_text: "LastName"
                                    id: CLP
                                    pos_hint: {"center_x":0.5, "center_y": 0.55}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 0, 0, 1
                                    size_hint: 0.8,0.12

                                MDTextField:
                                    id: CPP
                                    hint_text: "Password"
                                    pos_hint: {"center_x":0.5, "center_y": 0.35}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 0, 0, 1
                                    size_hint: 0.8,0.12
                                MDRectangleFlatIconButton:
                                    icon: "login"
                                    text: "Login in"
                                    theme_text_color: "Custom"
                                    text_color: root.local_color
                                    line_color: root.local_color
                                    theme_icon_color: "Custom"
                                    icon_color: root.local_color
                                    pos_hint: {"center_x":0.5, "center_y": 0.15}
                                    size_hint: 0.7,0.1
                                    on_release:

                                        root.CreateAccount()



                MDScreen:
                    name: "Forgot"

                    MDRelativeLayout:


                        id: background_Register
                        img_regis: "register_back.jpg"
                        canvas.before:
                            Color:
                                #rgba: (255/255,255/255,255/255, 1)
                                rgba: (70/255,70/255,70/255, 0.9)
                            Rectangle:
                                size: root.width, (root.height - tool.height)
                                pos: self.pos
                                source: background_Register.img_regis




                        MDFloatLayout:
                            rounded: 15
                            pos_hint: {'center_x':0.5, 'center_y':0.45}
                            size_hint: None,None
                            size: 400,500
                            id: line

                            canvas.before:
                                Color:
                                    rgb: (0/255,38/255,1/255, 1)

                                Line:
                                    rounded_rectangle: (self.pos[0],self.pos[1], self.size[0], self.size[1], self.rounded)
                                    width: 5


                            MDFloatLayout:
                                md_bg_color: (3/255,252/255,11/255, 0.5)
                                radius: [15]
                                size_hint: None, None
                                size: line.width-7,line.height-7
                                pos_hint: {'center_x':0.5, 'center_y':0.5}


                                MDLabel:
                                    text: "Reset Password"
                                    size_hint: 0.75,0.2
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y": 0.95}
                                    font_size: 40
                                    color: 0,0,0,1



                                MDTextField:
                                    hint_text: "Name"
                                    pos_hint: {"center_x":0.5, "center_y": 0.7}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 1, 0, 1
                                    size_hint: 0.7,0.12
                                    id: NamePlayer


                                MDTextField:
                                    hint_text: "New Password"
                                    pos_hint: {"center_x":0.5, "center_y": 0.5}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 1, 0, 1
                                    password: True
                                    size_hint: 0.7,0.12
                                    id: newpass

                                MDTextField:
                                    hint_text: "Retype New Password"
                                    pos_hint: {"center_x":0.5, "center_y": 0.3}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 1, 0, 1
                                    password: True
                                    size_hint: 0.7,0.12
                                    id: renewpass

                                MDRoundFlatButton:
                                    text: "Update Password"
                                    pos_hint: {"center_x":0.5, "center_y": 0.15}
                                    size_hint: 0.5,0.1
                                    halign: 'center'
                                    color_mode: "custom"
                                    text_color: 1,1,1,1
                                    line_color: 1, 1, 1, 1
                                    on_release: root.ForgotPass()










                MDScreen:
                    name: "login"

                    MDFloatLayout:
                        id: background
                        img: "back.jpg"
                        canvas.before:
                            Color:
                                rgba: (255/255,255/255,255/255, 1)
                            Rectangle:
                                size: root.width, (root.height - tool.height)
                                pos: self.pos
                                source: background.img

                        MDCard:
                            size_hint: None, None
                            size: 400, 500
                            pos_hint: {"center_x":0.5, "center_y": 0.45}
                            elevation: 50
                            padding: 25
                            spacing: 25
                            md_bg_color: root.local_color
                            radius: [25]

                            MDFloatLayout:

                                MDLabel:
                                    text: "Sign in"
                                    size_hint: 0.5,0.2
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y": 0.9}
                                    font_size: 40
                                    color: 1,1,1,1

                                MDTextField:
                                    hint_text: "Name"
                                    pos_hint: {"center_x":0.5, "center_y": 0.7}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 1, 0, 1
                                    id: LoginName


                                MDTextField:
                                    hint_text: "Password"
                                    pos_hint: {"center_x":0.5, "center_y": 0.5}
                                    mode: "fill"
                                    color_mode: "custom"
                                    line_color_focus: 0, 1, 0, 1
                                    password: True
                                    id: LoginPassword


                                MDRoundFlatButton:
                                    text: "Forgot Password?"
                                    pos_hint: {"center_x":0.5, "center_y": 0.02}
                                    size_hint: 0.35,0.08
                                    halign: 'center'
                                    color_mode: "custom"
                                    text_color: 1,1,1,1
                                    line_color: 1, 1, 1, 1
                                    on_release: root.ForgotPass()




                                MDRectangleFlatIconButton:
                                    icon: "login"
                                    text: "Login in"
                                    theme_text_color: "Custom"
                                    text_color: 1, 1, 1, 1
                                    line_color: 1, 1, 1, 1
                                    theme_icon_color: "Custom"
                                    icon_color: 1, 1, 1, 1
                                    pos_hint: {"center_x":0.5, "center_y": 0.3}
                                    size_hint: 0.7,0.1
                                    on_release:

                                        #root.manager.current = 'menu'
                                        root.LoginAccount()

                                MDRectangleFlatIconButton:
                                    icon: "account-plus"
                                    text: "Register!"
                                    theme_text_color: "Custom"
                                    text_color: 1, 1, 1, 1
                                    line_color: 1, 1, 1, 1
                                    theme_icon_color: "Custom"
                                    icon_color: 1, 1, 1, 1
                                    pos_hint: {"center_x":0.5, "center_y": 0.15}
                                    size_hint: 0.7,0.1
                                    on_release:
                                        root.manager.current = 'register'









                MDScreen:
                    name: "menu"

                    MDRelativeLayout:



                        MDRectangleFlatIconButton:
                            icon: "account-plus"
                            text: "Play"
                            theme_text_color: "Custom"
                            text_color: [14/255, 84/255, 0/255, 1]
                            line_color: [14/255, 84/255, 0/255, 1]
                            theme_icon_color: "Custom"
                            icon_color: [14/255, 84/255, 0/255, 1]
                            pos_hint: {"x":0.07, "top": 0.7}
                            font_size: 20
                            on_release:
                                root.ButtonPlay()

                        MDRectangleFlatIconButton:
                            icon: "account-plus"
                            text: "Stats"
                            theme_text_color: "Custom"
                            text_color: [14/255, 84/255, 0/255, 1]
                            line_color: [14/255, 84/255, 0/255, 1]
                            theme_icon_color: "Custom"
                            icon_color: [14/255, 84/255, 0/255, 1]
                            pos_hint: {"x":0.07, "top": 0.6}
                            font_size: 20

                        MDRectangleFlatIconButton:
                            icon: "account-plus"
                            text: "Log out"
                            theme_text_color: "Custom"
                            text_color: [14/255, 84/255, 0/255, 1]
                            line_color: [14/255, 84/255, 0/255, 1]
                            theme_icon_color: "Custom"
                            icon_color: [14/255, 84/255, 0/255, 1]
                            pos_hint: {"x":0.07, "top": 0.5}
                            font_size: 20
                            on_release:
                                root.manager.current = 'login'






                MDScreen:
                    name: "game"









                    MDFloatLayout:

                        id: Game


                        MDBoxLayout:
                            size_hint: None, None
                            size: 200,45
                            pos_hint: {"right": 0.95, "top": 0.89}

                            canvas.before:
                                Color:
                                    rgba: root.local_color
                                RoundedRectangle:
                                    size: self.size
                                    pos: self.pos
                                    radius: [20]


                            MDLabel:
                                color: 1,1,1,1
                                text: "Player:"
                                halign: "center"
                                font_size: 25
                            MDLabel:
                                font_size: 25
                                color: 1,1,1,1
                                text: "Name"
                                halign: "center"
                                id: PlayerNamePost




                        MDStackLayout:

                            md_bg_color: root.local_color
                            pos_hint: {"center_x":0.5, "center_y":0.45}
                            size_hint: 0.5,0.7
                            radius: [15]
                            orientation: "lr-tb"
                            padding: 20
                            spacing: 20

                            GameLabel:

                                MDLabel:
                                    id: B1
                                    name: "B1"
                                    coordinate: (1,3)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True

                                MDTextButton:
                                    id: D1
                                    on_press: root.Crossed(B1)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}


                            GameLabel:

                                MDLabel:
                                    id: B2
                                    name: "B2"
                                    coordinate: (2,3)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True

                                MDTextButton:
                                    id: D2
                                    on_press: root.Crossed(B2)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B3
                                    name: "B3"
                                    coordinate: (3,3)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True
                                MDTextButton:
                                    id: D3
                                    on_press: root.Crossed(B3)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B4
                                    name: "B4"
                                    coordinate: (1,2)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True

                                MDTextButton:
                                    id: D4
                                    on_press: root.Crossed(B4)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B5
                                    name: "B5"
                                    coordinate: (2,2)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True

                                MDTextButton:
                                    id: D5
                                    on_press: root.Crossed(B5)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B6
                                    name: "B6"
                                    coordinate: (3,2)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True
                                MDTextButton:
                                    id: D6
                                    on_press: root.Crossed(B6)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}


                            GameLabel:

                                MDLabel:
                                    id: B7
                                    name: "B7"
                                    coordinate: (1,1)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True
                                MDTextButton:
                                    id: D7
                                    on_press: root.Crossed(B7)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B8
                                    name: "B8"
                                    coordinate: (2,1)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True
                                MDTextButton:
                                    id: D8
                                    on_press: root.Crossed(B8)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}

                            GameLabel:

                                MDLabel:
                                    id: B9
                                    name: "B9"
                                    coordinate: (3,1)
                                    text: ""
                                    opacity: 0
                                    own: ""
                                    font_size: 100
                                    halign: "center"
                                    pos_hint: {"center_x":0.5, "center_y":0.5}
                                    markup: True
                                MDTextButton:
                                    id: D9
                                    on_press: root.Crossed(B9)
                                    pos_hint: {"center_x":0.5, "center_y":0.5}


                    MDFloatLayout:
                        apa: 0.7
                        id: panel
                        canvas.before:
                            Color:
                                rgba: (0/255,0/255,0/255,panel.apa)
                            Rectangle:
                                size: root.width, (root.height - tool.height)
                                pos: self.pos
                    MDFloatLayout:
                        id: second_panel
                        md_bg_color: (76/255,235/255,52/255,1)
                        size_hint: 0.6,0.7
                        pos_hint: {"center_x":0.5, "center_y":0.5}
                        radius: [17]

                        MDLabel:
                            pos_hint: {"center_x":0.5, "center_y":0.9}
                            text: "Select Option"
                            halign: "center"
                            font_size: 30



                        MDBoxLayout:
                            size_hint: 0.5,0.3
                            pos_hint: {"center_x":0.5, "center_y":0.5}
                            radius: [5]
                            md_bg_color: (0/255,0/255,0/255,1)




                            ToggleButton:
                                id: SelectX
                                text: "[font=CHILLER] X [/font]"
                                font_size: 50
                                markup: True
                                color: (0/255, 0/255, 0/255, 1) if self.state == 'normal' else (255/255,255/255,255/255,1)
                                group: "play"
                                background_color: (0,0,0,0)
                                background_normal: ''
                                canvas.before:
                                    Color:
                                        rgba: (255/255, 255/255, 255/255, 1) if self.state == 'normal' else (255/255,255/255,255/255,1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos

                                        source: 'selected.png' if self.state == 'normal' else 'unselected.png'


                            ToggleButton:
                                id: Select0
                                text: "[font=CHILLER] O [/font]"
                                font_size: 70
                                markup: True
                                color: (0/255, 0/255, 0/255, 1) if self.state == 'normal' else (255/255,255/255,255/255,1)
                                group: "play"
                                background_color: (0,0,0,0)
                                background_normal: ''
                                canvas.before:
                                    Color:
                                        rgba: (255/255, 255/255, 255/255, 1) if self.state == 'normal' else (255/255,255/255,255/255,1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos

                                        source: 'selected.png' if self.state == 'normal' else 'unselected.png'




                        MDFloatingActionButton:
                            icon: "pencil"
                            type: "large"
                            theme_icon_color: "Custom"
                            md_bg_color: (255/255,255/255,255/255,1)
                            text_color: root.local_color
                            pos_hint: {"center_x":0.5, "center_y":0.2}
                            on_press:
                                root.StartToPlay()

                    MDFloatLayout:
                        id: Over
                        pos_hint: {"center_x": 0.5, "center_y": 0.5}
                        size_hint: 0.5,0.5
                        #md_bg_color: (123/255, 66/255, 44/255, 1)
                        radius: [20]

                        FitImage:
                            id: img_over
                            pos_hint: {"center_x": 0.5, "center_y": 0.7}
                            size_hint: 0.45,0.45
                            radius: [20]

                        MDLabel:
                            id: label_over
                            text: ""
                            markup: True
                            pos_hint: {"center_x": 0.5, "center_y": 0.3}
                            size_hint: 0.8,0.5
                            font_size: 70
                            halign: "center"




                MDScreen:
                    name: "stats"

